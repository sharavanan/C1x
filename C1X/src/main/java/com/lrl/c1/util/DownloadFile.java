/* * To change this template, choose Tools | Templates * and open the template in the editor. */package com.lrl.c1.util;/** * * @author logic */import com.amazonaws.auth.AWSCredentials;import java.io.FileOutputStream;import java.io.IOException;import org.apache.commons.io.IOUtils;import com.amazonaws.auth.PropertiesCredentials;import com.amazonaws.services.s3.AmazonS3;import com.amazonaws.services.s3.AmazonS3Client;import com.amazonaws.services.s3.model.Bucket;import com.amazonaws.services.s3.model.GetObjectRequest;import com.amazonaws.services.s3.model.S3Object;//import com.amazonaws.services.s3.model.S3ObjectInputStream;import java.util.List;public class DownloadFile { public static void main(String[] args) throws IOException {     // String ext = "ACBD.jpeg".split("\\.")[1].toString();         // System.out.println("Abcd ==   "+ext);  String existingBucketName = "c1x";  String keyName = "img2.jpg";   AWSCredentials awsc = new AWSCredentials() {                  @Override public String getAWSAccessKeyId() { return "AKIAILCKQVF2DPF3KBCQ"; }                  @Override public String getAWSSecretKey() { return "tvWOg3YWbVKgiMpqFS72q8MDTeVeeR7Xtw2Cy+gU"; } };   // PropertiesCredentials p = new PropertiesCredentials(awsc);//DownloadFile.class.getResourceAsStream("AwsCredentials.properties"));       // System.out.println("acces key ="+p.getAWSAccessKeyId()); //    System.out.println("secret key ="+p.getAWSSecretKey());       AmazonS3 s3Client = new AmazonS3Client(awsc);    GetObjectRequest request = new GetObjectRequest(existingBucketName,    keyName);       System.out.println("bucket ="+request.getBucketName());  System.out.println("key  ="+request.getKey());  List<Bucket> bck =  s3Client.listBuckets();  for(Bucket b : bck){      System.out.println("b.name ="+b.getName());            System.out.println("b.owner ="+b.getOwner());        }       S3Object object = s3Client.getObject(request);     System.out.println("object");//  S3ObjectInputStream objectContent = object.getObjectContent();////     System.out.println(" Uri == "+objectContent.getHttpRequest().getURI());////  ////     ////  System.out.println("content ="+objectContent.getHttpRequest());////     ////  IOUtils.copy(objectContent, new FileOutputStream("C://Users//Hariprakash//Downloads//tests3.jpg")); }}